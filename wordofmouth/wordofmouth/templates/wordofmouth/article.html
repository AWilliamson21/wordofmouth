{% load static %}
{% load bootstrap5 %}
{% bootstrap_css %}

{% load socialaccount %}
<html>
<nav class="navbar navbar-expand-lg navbar-light bg-light border-bottom fixed-top">
    <div class="container-fluid">
        <div class="text-center">
            <a href="/">
                <img src="https://media.discordapp.net/attachments/939589690087051324/970932069368737842/WORD_OF_MOUTH_4.png" class="rounded" width="250" alt="...">
            </a>
        </div>
        <button aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation" class="navbar-toggler"
                data-bs-target="#navbarSupportedContent" data-bs-toggle="collapse" type="button">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto my-2 my-lg-0">
                <li class="nav-item">
                    <a class="nav-link" href={% url 'browserecipes' %} role="button">Browse Recipes</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href={% url 'browsearticles' %} role="button">Browse Articles</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href={% url 'addrecipe' %} role="button">Add Recipe</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href={% url 'addarticle' %} role="button">Add Article</a>
                </li>
            </ul>
            <span class="navbar-text">
          <div class="nav-item dropdown">
            <a aria-expanded="false" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#"
               id="navbarDropdownMenuLink" role="button">
                Welcome, {{ user.username }}
            </a>
            <ul aria-labelledby="navbarDropdownMenuLink" class="dropdown-menu">
                <li><a class="dropdown-item" href="/logout">Log out?</a></li>
            </ul>
        </div>
      </span>
        </div>
    </div>
</nav>
<style>
    .container-fluid.mt-4 {
        background-color: rgba(128, 128, 128, 0.244);
    }
</style>

<head>
    <div class="container-fluid d-flex justify-content-center align-items-center flex-column">
        <br>
        <br>
        <br>
        <br>
        <h1 class="">{{ title }}</h1>
        <div class="row text-center">
            <p>Published By: {{ author }}</p>
            <p class="text-muted">{{ date }}</p>
        </div>

	    <meta charset="utf-8">
	    <meta name="viewport" content="width=device-width, initial-scale=1">
	    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css" rel="stylesheet" >
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" ></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.min.js" integrity="sha384-Atwg2Pkwv9vp0ygtn1JAojH0nYbwNJLPhwyoVbhoPwBhjQPR5VtM2+xf0Uwh9KtT" crossorigin="anonymous"></script>
    </div>
</head>

<body>
    <div class="container-fluid" style="margin-left: 20px;" style="margin-right: 20px">
        <div class="row gx-5 justify-content-center">
            <div class="col-5">
                <p class="fw-bold">Description: </p>
                <!-- 
                    Title: Reference list item within Django template?
                    Author: Mike DeSimone
                    Date: 01/10/2011
                    Code version: Django v4.0
                    URL: https://stackoverflow.com/questions/4651172/reference-list-item-by-index-within-django-template
                    Software License: BSD
                -->
                <p>{{ descriptions.0 }}</p> 
            </div>
            <div class="col-5 d-flex justify-content-center align-items-center flex-column">
                 <p class ="fw-bold"> List of Recipes!</p>

                {% if recipetitle1 %}
                <div class="card" style="width: 25rem;">
                    {% if recipephoto1 %}
                    <img src={{recipephoto1.url}} class="card-img-top" alt="..." style=" height: 200px; object-fit: cover">
                    {% endif %}
                    <div class="card-body">
                        <h5 class="card-text">{{ recipetitle1 }}</h5>
                        <p class="card-text">{{ descriptions.1 }}</p>
                        {% if originalRecipe1 %}
                            <a href="{% url 'forkpage' pk=originalRecipe1.pk rpk=recipepk1 %}" class="stretched-link"></a>
                            <span class="badge rounded-pill bg-warning text-dark"> Forked Recipe </span>
                        {% else %}
                            <a href="{% url 'recipe' recipepk1 %}" class="stretched-link"></a>
                            <span class="badge rounded-pill bg-danger"> Recipe </span>
                        {% endif %}
                    </div>
                </div>
                {% endif %}
                <br>
                {% if recipetitle2 %}
                <div class="card" style="width: 25rem;">
                    {% if recipephoto2 %}
                    <img src={{recipephoto2.url}} class="card-img-top" alt="..." style=" height: 200px; object-fit: cover">
                    {% endif %}
                    <div class="card-body">
                        <h5 class="card-text">{{ recipetitle2 }}</h5>
                        <p class="card-text">{{ descriptions.2 }}</p>
                        {% if originalRecipe2 %}
                            <a href="{% url 'forkpage' pk=originalRecipe2.pk rpk=recipepk2 %}" class="stretched-link"></a>
                            <span class="badge rounded-pill bg-warning text-dark"> Forked Recipe </span>
                        {% else %}
                            <a href="{% url 'recipe' recipepk2 %}" class="stretched-link"></a>
                            <span class="badge rounded-pill bg-danger"> Recipe </span>
                        {% endif %}
                    </div>
                </div>
                {% endif %}
                <br>
                {% if recipetitle3 %}
                <div class="card" style="width: 25rem;">
                    {% if recipephoto3 %}
                    <img src={{recipephoto3.url}} class="card-img-top" alt="..." style=" height: 200px; object-fit: cover">
                    {% endif %}
                    <div class="card-body">
                        <h5 class="card-text">{{ recipetitle3 }}</h5>
                        <p class="card-text">{{ descriptions.3 }}</p>
                        {% if originalRecipe3 %}
                            <a href="{% url 'forkpage' pk=originalRecipe3.pk rpk=recipepk3 %}" class="stretched-link"></a>
                            <span class="badge rounded-pill bg-warning text-dark"> Forked Recipe </span>
                        {% else %}
                            <a href="{% url 'recipe' recipepk3 %}" class="stretched-link"></a>
                            <span class="badge rounded-pill bg-danger"> Recipe </span>
                        {% endif %}
                    </div>
                </div>
                {% endif %}
                <br>
            </div>
        </div>

    </div>

</body>

</html>